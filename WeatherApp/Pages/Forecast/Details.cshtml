@page "{cityId:int}"
@using WeatherApp.Model
@model WeatherApp.Pages.Forecast.DetailsModel
@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

@if (Model.RequestContent != null)
{
	<ul class="list-inline">
		<li><b>Forecast for @Model.ForecastModel.city.name, @Model.ForecastModel.city.country</b></li>
		<li><b>Coordinates:</b> [@Model.ForecastModel.city.coord.lat, @Model.ForecastModel.city.coord.lon]</li>
		<li><b>Sunrise:</b> @Weather.UnixTimeStampToDateTime(Model.ForecastModel.city.sunrise)</li>
		<li><b>Sunset:</b> @Weather.UnixTimeStampToDateTime(Model.ForecastModel.city.sunset)</li>
		<li><b>Time right now:</b> @Model.DateTimeNow</li>
	</ul>
	<table class="table table-striped table-bordered">
		<thead>
		<tr>
			<th>Day & time</th>
			<th>Temperature</th>
			<th>Humidity</th>
			<th>Pressure</th>
			<th>Description</th>
		</tr>
		</thead>
		<tbody>
		@foreach (var l in Model.ForecastModel.list)
		{
			<tr>
				<td>
					@Weather.UnixTimeStampToDateTime(l.dt).DayOfWeek
					@Weather.UnixTimeStampToDateTime(l.dt).Day/@Weather.UnixTimeStampToDateTime(l.dt).Month
					@Weather.UnixTimeStampToDateTime(l.dt).Hour:00
				</td>
				<td>@l.main.temp &#8451;</td>
				<td>@l.main.humidity %</td>
				<td>@l.main.pressure hPa</td>
				<td>@l.weather[0].description</td>
			</tr>
		}
		</tbody>
	</table>
}
