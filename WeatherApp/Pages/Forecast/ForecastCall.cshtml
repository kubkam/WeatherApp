@page
@model WeatherApp.Pages.Forecast.ForecastCallModel
@{
    ViewData["Title"] = "Forecast";
}

<h1>Forecast</h1>

<a asp-page="ForecastCall" asp-page-handler="Download" class="btn btn-primary">Download Data</a>

@if (Model.RequestContent != null)
{
	<table class="table table-striped table-bordered display">
		<thead>
		<tr>
			<th>Date</th>
			<th>Temperature in Celsius degree</th>
			<th>Rain description</th>
		</tr>
		</thead>
		<tbody>
			@foreach (var f in Model.ForecastModel.list)
			{
				foreach (var w in f.weather)
				{
				<tr>
					<th>@f.dt_txt</th>
					<th>@f.main.temp</th>
					<th>@w.description</th>
				</tr>
				}
			
			}
		</tbody>
	</table>
}

